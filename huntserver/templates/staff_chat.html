{% extends "staff_base.html" %}
{% block title %}Hunt Control{% endblock title %}

{% block includes %}
<script src="{{ STATIC_URL }}jquery.min.js"></script>
<script src="{{ STATIC_URL }}huntserver/staff_chat.js"></script>
<link rel="stylesheet" type="text/css" href="{{ STATIC_URL }}huntserver/chat.css">
{% endblock includes %}

{% block content %}
  <h1> Staff Chat </h1>
  <div id="chatcontainer">
    {% regroup messages by team as team_messages %}
    <div>
      {% for group in team_messages %}
        <button data-id='{{ group.grouper.pk }}' class="chatselect">
          {{ group.grouper.name|truncatechars:10 }}
        </button>
      {% endfor %}
    </div>
    </br></br>
    {% for group in team_messages %}
      <div id='chat_{{ group.grouper.pk }}' class="chatwindow">
        {% for message in group.list %}
          {% if message.is_response %}
            <div style='white-space:pre-wrap; color:red;'>Admin     : {{ message.text }}</div>
          {% else %}
            <div style='white-space:pre-wrap;'>{{ group.grouper.name|slice:":10"|ljust:10 }}: {{ message.text }}</div>
          {% endif %}
        {% endfor %}
      </div>
    {% endfor %}
  </div>
  <div style="margin-top: 10px">
    <input id="messagebox" typpe='text'> </input>
    <button id="sendbutton">Send</button>
  </div>
{% endblock content %}
